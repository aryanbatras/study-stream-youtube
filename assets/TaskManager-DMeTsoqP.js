import{b as _,o as L,e as J,t as n,i as l,j as c,c as x,k,F as z,d as R}from"./index-CL2mUa9k.js";import{b as G,c as F}from"./index-DkPZBEV1.js";var K=n('<div class="fixed bottom-4 left-4 z-30">'),P=n('<button class="bg-white/95 text-gray-900 backdrop-blur-sm rounded-full shadow-lg p-3 hover:shadow-xl transition-all duration-200"title="My Tasks"><div class="w-6 h-6 flex items-center justify-center"><div class=relative><div class="w-4 h-4 border-2 border-emerald-500 rounded-sm">'),Y=n('<span class="absolute -top-2 -right-2 bg-emerald-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">'),q=n('<div class="bg-white/95 text-gray-900 backdrop-blur-sm rounded-xl shadow-xl w-72 transition-all duration-200 overflow-hidden"><div class="p-4 border-b border-gray-200"><div class="flex justify-between items-center"><h3 class="font-semibold text-lg text-gray-900">My Tasks</h3><button class="text-gray-500 hover:text-gray-700 text-xl leading-none">×</button></div><form class="mt-3 flex"><input type=text placeholder="Add a task..."class="flex-1 px-3 py-2 text-sm text-gray-900 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-emerald-500"><button type=submit class="bg-emerald-500 text-white px-3 py-2 rounded-r-md hover:bg-emerald-600 transition-colors"></button></form></div><div class="max-h-80 overflow-y-auto text-gray-900">'),B=n('<div class="p-4 text-center text-gray-500 text-sm">No tasks yet — add one above.'),H=n('<div class="p-3 border-b border-gray-200 flex items-center group"><input type=checkbox class="h-4 w-4 text-emerald-500 rounded border-gray-300 focus:ring-emerald-500"><span class="ml-3 text-sm flex-1 text-gray-900"></span><button class="opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-opacity">'),Q=n('<div class="px-3 py-2 text-xs font-medium text-gray-600 bg-gray-100">Completed (<!>)'),U=n('<div class="p-3 border-b border-gray-200 flex items-center group"><input type=checkbox class="h-4 w-4 text-emerald-500 rounded border-gray-300 focus:ring-emerald-500"><span class="ml-3 text-sm text-gray-500 line-through flex-1"></span><button class="opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-opacity">'),V=n('<div class="p-3 bg-gray-100 border-t border-gray-200 text-right"><button class="text-xs text-gray-600 hover:text-red-600">Clear completed');const w="study-tasks-v1";function Z(){const[h,o]=_([]),[S,C]=_(""),[I,T]=_(!1);L(()=>{const e=localStorage.getItem(w);if(e)try{o(JSON.parse(e))}catch{o([]),localStorage.removeItem(w)}}),J(()=>{localStorage.setItem(w,JSON.stringify(h()))});const M=e=>{e.preventDefault();const a=S().trim();if(!a)return;const t={id:Date.now().toString(),text:a,completed:!1,createdAt:Date.now()};o(d=>[t,...d]),C("")},E=e=>o(a=>a.map(t=>t.id===e?{...t,completed:!t.completed}:t)),O=e=>o(a=>a.filter(t=>t.id!==e)),N=()=>o(e=>e.filter(a=>!a.completed)),$=()=>h().filter(e=>!e.completed),b=()=>h().filter(e=>e.completed);return(()=>{var e=K();return l(e,(()=>{var a=c(()=>!I());return()=>a()?(()=>{var t=P(),d=t.firstChild,g=d.firstChild;return g.firstChild,t.$$click=()=>T(!0),l(g,(()=>{var v=c(()=>$().length>0);return()=>v()&&(()=>{var f=Y();return l(f,()=>$().length),f})()})(),null),t})():(()=>{var t=q(),d=t.firstChild,g=d.firstChild,v=g.firstChild,f=v.nextSibling,j=g.nextSibling,y=j.firstChild,A=y.nextSibling,D=d.nextSibling;return f.$$click=()=>T(!1),j.addEventListener("submit",M),y.$$input=u=>C(u.target.value),l(A,x(G,{size:14})),l(D,(()=>{var u=c(()=>h().length===0);return()=>u()?B():[x(z,{get each(){return $()},children:r=>(()=>{var i=H(),s=i.firstChild,p=s.nextSibling,m=p.nextSibling;return s.addEventListener("change",()=>E(r.id)),l(p,()=>r.text),m.$$click=()=>O(r.id),l(m,x(F,{size:12})),k(()=>s.checked=r.completed),i})()}),c(()=>c(()=>b().length>0)()&&[(()=>{var r=Q(),i=r.firstChild,s=i.nextSibling;return s.nextSibling,l(r,()=>b().length,s),r})(),x(z,{get each(){return b()},children:r=>(()=>{var i=U(),s=i.firstChild,p=s.nextSibling,m=p.nextSibling;return s.addEventListener("change",()=>E(r.id)),l(p,()=>r.text),m.$$click=()=>O(r.id),l(m,x(F,{size:12})),k(()=>s.checked=r.completed),i})()})])]})()),l(t,(()=>{var u=c(()=>b().length>0);return()=>u()&&(()=>{var r=V(),i=r.firstChild;return i.$$click=N,r})()})(),null),k(()=>y.value=S()),t})()})()),e})()}R(["click","input"]);export{Z as default};
